YUI.add("moodle-theme_nottingham-fullscreen",function(e,t){var n="fullscreen",r=function(){r.superclass.constructor.apply(this,arguments)};e.extend(r,e.Base,{keypressed:!1,floatrendered:!1,bodynode:null,mainnode:null,fullscreentoggle:null,fullscreenmode:null,floatingfullscreentoggle:null,icon_classes:null,initializer:function(t){this.mainnode=e.one("#region-main"),this.fullscreenmode=t.fullscreenmode,this.bodynode=e.one("body"),this.icon_classes="fullscreen",this.fullscreenmode==="1"?(this.icon_classes="fullscreen restore_fullscreen",this.fullscreenmode=!0,this.bodynode.addClass("fullscreenmode")):this.fullscreenmode=!1,this.fullscreentoggle=this.createFullscreenToggle(),this.floatingfullscreentoggle=this.createFloatingFullscreenToggle(),this.mainnode.prepend(this.fullscreentoggle),this.fullscreentoggle.on("click",this.toggleFullScreen,this),this.floatingfullscreentoggle.on("click",this.toggleFullScreen,this),e.one(document).on("keydown",this.toggleFullscreenViaKeydown,this),e.one(document).on("keyup",this.toggleKeyPressed,this),e.on("scroll",this.toggleFullscreenIcon,window,this)},createFullscreenToggle:function(){return e.Node.create('<div id="fullscreenpadding"><div id="fullscreen" title="'+M.str.theme_nottingham.togglefullscreenmode+'" class="'+this.icon_classes+'"></div></div>')},createFloatingFullscreenToggle:function(){return e.Node.create('<div id="fullscreenfloat" title="'+M.str.theme_nottingham.togglefullscreenmode+'" class="'+this.icon_classes+'"></div>')},toggleFullscreenIcon:function(){var e=window.innerWidth;window.pageYOffset>205&&e>=768?this.floatrendered===!1?(this.bodynode.prepend(this.floatingfullscreentoggle),this.floatingfullscreentoggle.show(),this.floatrendered=!0):this.floatingfullscreentoggle.show():this.floatrendered===!0&&this.floatingfullscreentoggle.hide()},toggleFullScreen:function(){this.fullscreenmode===!0?(this.fullscreenmode=!1,this.bodynode.removeClass("fullscreenmode"),this.fullscreentoggle.one("#fullscreen").removeClass("restore_fullscreen"),this.floatingfullscreentoggle.removeClass("restore_fullscreen")):(this.fullscreenmode=!0,this.bodynode.addClass("fullscreenmode"),this.fullscreentoggle.one("#fullscreen").addClass("restore_fullscreen"),this.floatingfullscreentoggle.addClass("restore_fullscreen")),M.util.set_user_preference("fullscreenmode",this.fullscreenmode)},toggleKeyPressed:function(e){e.ctrlKey&&e.altKey&&e.keyCode===66&&(this.keypressed=!1)},toggleFullscreenViaKeydown:function(e){e.ctrlKey&&e.altKey&&e.keyCode===66&&!this.keypressed&&(this.toggleFullScreen(),this.keypressed=!0)}},{NAME:n,ATTRS:{fullscreenmode:"0"}}),M.theme_nottingham=M.theme_nottingham||{},M.theme_nottingham.init_fullscreen=function(e){return new r(e)}},"@VERSION@",{requires:["node","event","base"]});
